<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×œ×™×§×•×™ ×—××” - ××¦×’×ª ×œ×™××•×“×™×ª ××œ××” ×•××©×—×§</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700;900&family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* CSS Reset & Basic Setup */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            user-select: none;
        }

        body {
            background-color: #050510; /* Deep Space Black */
            /* Starry background moved to a pseudo-element or separate div to allow darkening */
            color: #e2e8f0;
            font-family: 'Heebo', sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
            transition: background-color 0.5s;
        }

        /* --- INTERACTIVE BACKGROUND ECLIPSE --- */
        #cosmos-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0; /* Behind slide deck */
            pointer-events: none; /* Mouse passes through to slide deck if needed, but we track mouse on window */
            background-image: 
                radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 3px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 2px),
                radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 3px);
            background-size: 550px 550px, 350px 350px, 250px 250px;
            background-position: 0 0, 40px 60px, 130px 270px;
            transition: opacity 0.5s;
        }

        /* The Sun Container in Background */
        .bg-sun-container {
            position: absolute;
            top: 20%; /* Positioned visibly above the slide deck area or behind it */
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            filter: blur(0px);
        }

        .bg-sun {
            width: 180px;
            height: 180px;
            background: radial-gradient(circle, #fff 30%, #fbbf24 70%, #f59e0b 100%);
            border-radius: 50%;
            box-shadow: 0 0 60px 20px rgba(251, 191, 36, 0.6), 0 0 100px 40px rgba(245, 158, 11, 0.3);
            position: relative;
            z-index: 1;
        }

        .bg-moon {
            width: 178px; /* Slightly smaller for annular effect or similar for total */
            height: 178px;
            background-color: #050510; /* Match deep space color */
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-250%, -50%); /* Start position: Left */
            z-index: 2;
            box-shadow: inset -10px -5px 20px rgba(255,255,255,0.05);
            /* Moving controlled by JS */
        }

        /* Corona Effect (Hidden by default) */
        .bg-corona {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 220px;
            height: 220px;
            border-radius: 50%;
            background: transparent;
            box-shadow: 0 0 50px 10px rgba(255, 255, 255, 0.8), 
                        0 0 100px 30px rgba(100, 200, 255, 0.5),
                        0 0 180px 60px rgba(100, 200, 255, 0.2);
            opacity: 0;
            transition: opacity 0.3s ease, transform 3s ease;
            z-index: 0;
            pointer-events: none;
        }

        /* --- SLIDE DECK (Adjusted z-index) --- */
        .slide-deck {
            position: relative;
            width: 1280px;
            height: 720px;
            background: rgba(20, 20, 40, 0.85); /* Slightly more opaque to read text over sun */
            backdrop-filter: blur(15px);
            border-radius: 20px;
            box-shadow: 0 0 60px rgba(0, 100, 255, 0.15);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 10; /* Above background */
        }

        .slide {
            display: none; /* Hidden by default */
            width: 100%;
            height: 100%;
            padding: 40px 60px;
            flex-direction: column;
            animation: fadeIn 0.6s ease;
            overflow: hidden; 
            position: relative; 
        }

        .slide.active {
            display: flex;
        }

        /* Scrollbar styling */
        .slide::-webkit-scrollbar, .text-box::-webkit-scrollbar, .facts-container::-webkit-scrollbar {
            width: 8px;
        }
        .slide::-webkit-scrollbar-track, .text-box::-webkit-scrollbar-track, .facts-container::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.05);
        }
        .slide::-webkit-scrollbar-thumb, .text-box::-webkit-scrollbar-thumb, .facts-container::-webkit-scrollbar-thumb {
            background: #60a5fa;
            border-radius: 4px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.99); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Typography */
        h1, h2, h3 {
            font-family: 'Rubik', sans-serif;
            color: #fbbf24; /* Sun Yellow */
            margin-bottom: 15px;
            text-shadow: 0 0 15px rgba(251, 191, 36, 0.4);
        }

        h1 { font-size: 58px; font-weight: 700; margin-bottom: 10px; }
        h2 { font-size: 36px; border-bottom: 2px solid #fbbf24; padding-bottom: 10px; display: inline-block; }
        h3 { font-size: 24px; color: #60a5fa; /* Moon Blue */ margin-top: 10px; margin-bottom: 5px; }
        p, li { font-size: 20px; line-height: 1.4; margin-bottom: 10px; color: #f1f5f9; }
        
        ul, ol { padding-right: 20px; }
        ul li::marker { color: #fbbf24; }

        /* Compact Text Helper Classes */
        .text-compact p, .text-compact li {
            font-size: 18px;
            margin-bottom: 8px;
            line-height: 1.3;
        }
        
        .text-compact h2 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .text-x-compact p, .text-x-compact li {
            font-size: 16px;
            margin-bottom: 6px;
            line-height: 1.25;
        }

        /* Layouts */
        .content-split {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            height: 100%;
            align-items: center;
        }
        
        .content-split.reverse {
             grid-template-columns: 0.8fr 1.2fr;
        }

        .content-full {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            justify-content: center;
            height: 100%;
        }

        /* Box Styles */
        .text-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            border-right: 4px solid #60a5fa;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Image Placeholder Style */
        .img-placeholder {
            width: 100%;
            height: 200px;
            background: #1e293b;
            border: 2px dashed #475569;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-family: monospace;
            text-align: center;
            margin-bottom: 10px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, border-color 0.2s;
            cursor: zoom-in;
        }

        .img-placeholder:hover {
            transform: scale(1.02);
            border-color: #60a5fa;
            box-shadow: 0 0 15px rgba(96, 165, 250, 0.3);
        }
        
        .img-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .img-square {
            aspect-ratio: 1 / 1;
            height: auto;
            width: 100%;
            flex-shrink: 0;
        }

        /* Grid for Facts */
        .facts-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            width: 100%;
            height: 100%;
            align-content: center;
        }

        .fact-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .fact-number {
            font-size: 20px;
            font-weight: bold;
            color: #60a5fa;
            min-width: 30px;
        }
        
        .fact-content h4 {
            color: #fbbf24;
            font-size: 16px;
            margin-bottom: 2px;
        }
        
        .fact-content p {
            font-size: 14px;
            margin-bottom: 0;
            line-height: 1.2;
        }

        .fact-icon {
            width: 45px;
            height: 45px;
            background: rgba(96, 165, 250, 0.15);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: #fbbf24;
            flex-shrink: 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Navigation Buttons */
        .nav-buttons {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 100;
        }

        button {
            background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
            border: none;
            color: white;
            padding: 10px 30px;
            border-radius: 30px;
            font-family: 'Rubik', sans-serif;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.6);
        }
        
        button:disabled {
            background: #475569;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
            opacity: 0.5;
        }

        .slide-counter {
            position: absolute;
            bottom: 25px;
            right: 40px;
            font-family: 'Rubik', sans-serif;
            color: #94a3b8;
            font-size: 18px;
            background: rgba(0,0,0,0.3);
            padding: 5px 15px;
            border-radius: 20px;
        }

        /* --- GAME MODE STYLES --- */
        .game-overlay {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            z-index: 200;
            flex-direction: column;
            padding: 30px;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 0 20px;
        }

        .game-money-ladder {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 30px;
        }

        .money-step {
            font-size: 14px;
            color: #64748b;
            padding: 5px 10px;
            border-radius: 5px;
            background: rgba(255,255,255,0.05);
            transition: all 0.3s;
        }

        .money-step.active {
            color: #fbbf24;
            background: rgba(251, 191, 36, 0.2);
            font-weight: bold;
            transform: scale(1.1);
            border: 1px solid #fbbf24;
        }
        
        .money-step.completed {
            color: #22c55e;
            text-decoration: line-through;
        }

        .question-box {
            background: rgba(0,0,0,0.4);
            border: 2px solid #60a5fa;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            font-size: 32px;
            color: white;
            margin-bottom: 40px;
            box-shadow: 0 0 30px rgba(96, 165, 250, 0.2);
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: 80%;
            margin: 0 auto;
        }

        .answer-btn {
            background: linear-gradient(90deg, #1e293b 0%, #334155 100%);
            border: 2px solid #475569;
            color: white;
            padding: 20px;
            border-radius: 50px;
            font-size: 20px;
            cursor: pointer;
            transition: transform 0.1s, background 0.3s;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .answer-letter {
            color: #fbbf24;
            font-weight: bold;
            font-size: 24px;
            min-width: 30px;
        }

        .answer-btn:hover {
            border-color: #fbbf24;
            transform: scale(1.02);
        }

        .answer-btn.correct {
            background: #22c55e !important;
            border-color: #4ade80 !important;
            animation: pulse 0.5s;
        }

        .answer-btn.wrong {
            background: #ef4444 !important;
            border-color: #f87171 !important;
            animation: shake 0.5s;
        }

        /* Choice Screen Styles */
        .choice-card-container {
            display: flex;
            gap: 50px;
            justify-content: center;
            align-items: center;
            height: 100%;
            padding-bottom: 60px; 
        }

        .choice-card {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            width: 350px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .choice-card:hover {
            transform: translateY(-10px);
            background: rgba(255,255,255,0.1);
            border-color: #60a5fa;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }

        .choice-icon {
            font-size: 80px;
            margin-bottom: 30px;
            color: #fbbf24;
        }

        .choice-title {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 15px;
            color: white;
        }

        .choice-desc {
            font-size: 18px;
            color: #94a3b8;
        }

        /* Lightbox Styles */
        .lightbox {
            display: none;
            position: fixed;
            z-index: 999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            border: 2px solid #60a5fa;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(96, 165, 250, 0.5);
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.2s;
        }

        .lightbox-close:hover {
            color: #fbbf24;
        }

        /* Animations */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes spin { 
            100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } 
        }

        /* Helpers */
        .highlight { color: #fbbf24; font-weight: bold; }
        .danger { color: #ef4444; font-weight: bold; }
        .safe { color: #22c55e; font-weight: bold; }

    </style>
</head>
<body>

<!-- BACKGROUND ECLIPSE LAYER -->
<div id="cosmos-bg">
    <div class="bg-sun-container">
        <div class="bg-sun"></div>
        <div class="bg-corona"></div>
        <div class="bg-moon" id="bgMoon"></div>
    </div>
</div>

<div class="slide-deck">

    <!-- SLIDE 1: Intro (Cover) -->
    <div class="slide active" id="slide1">
        <div class="content-full">
            <i class="fa-regular fa-sun" style="font-size: 100px; color: #fbbf24; animation: spin 20s linear infinite; margin-bottom: 20px;"></i>
            <h1 style="font-size: 72px;">×œ×™×§×•×™ ×—××”</h1>
            <h2 style="border: none; font-size: 30px; color: #93c5fd;">××¦×’×ª ×œ×™××•×“×™×ª</h2>
            <div style="margin-top: 40px; font-size: 24px;">
                <p>×©×œ×‘ ××—×¨ ×©×œ×‘</p>
                <p style="font-size: 16px; opacity: 0.7;">×”×–×™×–×• ××ª ×”×¢×›×‘×¨ ×›×“×™ ×œ×©×œ×•×˜ ×‘×œ×™×§×•×™ ×‘×¨×§×¢!</p>
            </div>
        </div>
    </div>

    <!-- SLIDE 2: Step 1 (Basics) -->
    <div class="slide" id="slide2">
        <h2 style="text-align: center;">×©×œ×‘ 1: ×”×‘×¡×™×¡</h2>
        <div style="display: flex; justify-content: space-around; height: 80%; align-items: center;">
            
            <!-- Solar Eclipse Column -->
            <div style="width: 30%; height: 80%; text-align: center; background: rgba(0,0,0,0.3); padding: 30px; border-radius: 10px;">
                <h3 class="highlight">×‘×œ×™×§×•×™ ×—××”</h3>
                <p>×”×¡×“×¨ ×”×•×:</p>
                <p style="font-size: 24px; font-weight: bold;">×©××© â†’ ×™×¨×— â†’ ×›×“×•×¨ ×”××¨×¥</p>
                <!-- PLACEHOLDER IMAGE 1 -->
                <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)" style="height: 220px;">
                    <img src="https://www.nasa.gov/wp-content/uploads/2023/03/solar-eclipse-diagram.jpg?w=1041" alt="×¡×“×¨ ×œ×™×§×•×™ ×—××”">
                </div>
            </div>

            <!-- Lunar Eclipse Column -->
            <div style="width: 30%; height: 80%; text-align: center; background: rgba(0,0,0,0.3); padding: 30px; border-radius: 10px;">
                <h3 class="highlight">×‘×œ×™×§×•×™ ×œ×‘× ×”</h3>
                <p>×”×¡×“×¨ ×”×•×:</p>
                <p style="font-size: 24px; font-weight: bold;">×©××© â†’ ×›×“×•×¨ ×”××¨×¥ â†’ ×™×¨×—</p>
                <!-- PLACEHOLDER IMAGE 2 -->
                <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)" style="height: 220px;">
                      <img src="https://www.nasa.gov/wp-content/uploads/2023/03/lunar-eclipse-diagram_0.jpg?w=1041" alt="×¡×“×¨ ×œ×™×§×•×™ ×œ×‘× ×”">
                </div>
            </div>

            <!-- Illusion Column -->
            <div style="width: 30%; height: 80%; text-align: center; background: rgba(0,0,0,0.3); padding: 20px; border-radius: 10px;">
                <h3 class="highlight">×”××©×œ×™×”</h3>
                <p>×”×©××© ×’×“×•×œ×” ×¤×™ 400, ××‘×œ ×’× ×¨×—×•×§×” ×¤×™ 400 â†’ ×•×œ×›×Ÿ ×©×ª×™ ×”×“×™×¡×§×•×ª × ×¨××•×ª ×›××¢×˜ ×‘××•×ª×• ×’×•×“×œ ×‘×©××™×™×!</p>
                <!-- PLACEHOLDER IMAGE 3 -->
                <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)" style="height: 220px;">
                    <img src="https://www.phy.cuhk.edu.hk/elearning/Solar_eclipse/images/Eclipse-Apprent%20sizes.png" alt="×”×©×•×•××ª ×’×“×œ×™×">
                </div>
            </div>

        </div>
    </div>

    <!-- SLIDE 3: Step 2 (Types) -->
    <div class="slide" id="slide3">
        <h2>×©×œ×‘ 2: ×¡×•×’×™ ×”×œ×™×§×•×™×™×</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
            
            <div class="text-box" style="text-align: center;">
                <h3 class="highlight">×œ×™×§×•×™ ××œ×</h3>
                <p>×”×™×¨×— ××›×¡×” ×œ×—×œ×•×˜×™×Ÿ ××ª ×¤× ×™ ×”×©××©</p>
                <!-- Image for Total -->
                <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)">
                    <img src="http://googleusercontent.com/image_collection/image_retrieval/6522882644351407118" alt="×œ×™×§×•×™ ××œ×">
                </div>
            </div>

            <div class="text-box" style="text-align: center;">
                <h3 class="highlight">×œ×™×§×•×™ ×—×œ×§×™</h3>
                <p>×”×™×¨×— ××›×¡×” ×¨×§ ×—×œ×§ ××”×©××©</p>
                <!-- Image for Partial -->
                <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)">
                    <img src="https://placehold.co/300x200/000000/FFFFFF?text=Partial+Eclipse" alt="×œ×™×§×•×™ ×—×œ×§×™">
                </div>
            </div>

            <div class="text-box" style="text-align: center;">
                <h3 class="highlight">×œ×™×§×•×™ ×˜×‘×¢×ª×™</h3>
                <p>×”×™×¨×— × ××¦× ××•×œ ×”×©××© ××š ×¨×—×•×§ ××“×™ ××›×“×•×¨ ×”××¨×¥</p>
                <!-- Image for Annular -->
                <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)">
                    <img src="https://placehold.co/300x200/000000/FFFFFF?text=Annular+Eclipse" alt="×œ×™×§×•×™ ×˜×‘×¢×ª×™">
                </div>
            </div>
        </div>
        <div style="margin-top: 20px; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
            <p>×œ×™×§×•×™ ×©××© ××›×œ ×¡×•×’ ×§×•×¨×” ×¨×§ ×‘×–××Ÿ ××•×œ×“ ×”×™×¨×— (×›×©×”×™×¨×— × ××¦× ×‘×“×™×•×§ ×‘×™×Ÿ ×”×©××© ×œ×›×“×•×¨ ×”××¨×¥.)</p>
            <p>××‘×œ ×œ× ×‘×›×œ ××•×œ×“ ×™×© ×œ×™×§×•×™</p>
            <p><strong>×”×ª× ××™ ×”×›×œ×œ×™ ×œ×œ×™×§×•×™ ×©××©:</strong> ××•×œ×“ ×™×¨×— (×™×¨×— ×—×“×©)</p>
        </div>
    </div>

    <!-- SLIDE 4: Step 3 (Orbit Tilt) -->
    <div class="slide" id="slide4">
        <div class="content-split">
            <div class="text-box">
                <h2>×©×œ×‘ 3: ×œ××” ×œ× ×›×œ ×—×•×“×©?</h2>
                <p>××¡×œ×•×œ ×”×™×¨×— ×¡×‘×™×‘ ×›×“×•×¨ ×”××¨×¥ <strong>× ×˜×•×™ ×‘×›Ö¾5Â°</strong> ×‘×™×—×¡ ×œ××™×©×•×¨ ×©×‘×• ×›×“×•×¨ ×”××¨×¥ ××§×™×£ ××ª ×”×©××©.</p>
                <p>×‘×’×œ×œ ×”× ×˜×™×™×” ×”×–××ª â€” ×‘×—×œ×§ ×’×“×•×œ ××”××•×œ×“×™×, ×”×™×¨×— × ××¦× ×§×¦×ª ××¢×œ ××• ×§×¦×ª ××ª×—×ª ×œ×§×• ×©×‘×™×Ÿ ×›×“×•×¨ ×”××¨×¥ ×œ×©××©.</p>
                <p>×œ×›×Ÿ ×”×¦×œ ×©×œ×• ×—×•×œ×£ ××¢×œ ××• ××ª×—×ª ×œ×›×“×•×¨ ×”××¨×¥ ×•×œ× × ×•×’×¢ ×‘×•.</p>
                <p class="highlight">×”×™×¨×— ×§×¨×•×‘ ×œ××—×“ ××©× ×™ ×¦××ª×™× â€“ ×”× ×§×•×“×•×ª ×©×‘×”×Ÿ ×”××¡×œ×•×œ ×©×œ×• ×—×•×¦×” ××ª ××™×©×•×¨ ×›×“×•×¨ ×”××¨×¥.</p>
            </div>
            <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)" style="height: 400px;">
                <img src="https://placehold.co/500x400/000000/FFFFFF?text=Orbit+5+Degree+Tilt" alt="××¡×œ×•×œ ×”×™×¨×—">
            </div>
        </div>
    </div>

    <!-- SLIDE 5: Step 3 (Solar Details) - COMPACT FOR NO SCROLL -->
    <div class="slide" id="slide5">
        <h2>××ª×™ ×–×” ×§×•×¨×”? ×¤×™×¨×•×˜</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; font-size: 14px; height: 85%;">
            
            <div class="text-box text-x-compact" style="justify-content: flex-start; padding: 15px;">
                <h3 style="margin-bottom:5px;">ğŸŒ‘ ×œ×™×§×•×™ ×©××© ××œ×</h3>
                <div style="flex-grow: 1; display:flex; flex-direction:column; justify-content:center;">
                    <p><strong>××ª×™?</strong> ×™×¨×— ×‘××•×œ×“, ×‘×¦×•××ª ×•×§×¨×•×‘, ××›×¡×” ××ª ×”×©××©.</p>
                    <p><strong>×ª×“×™×¨×•×ª:</strong> ×‘×¢×¨×š ×¤×¢× ×‘-18 ×—×•×“×©×™× ×‘×¢×•×œ×.</p>
                </div>
                <div class="img-placeholder img-square" onclick="openLightbox(this.querySelector('img').src)">
                    <img src="https://placehold.co/300x300/000000/FFFFFF?text=Total" alt="Total">
                </div>
            </div>

            <div class="text-box text-x-compact" style="justify-content: flex-start; padding: 15px;">
                <h3 style="margin-bottom:5px;">ğŸŒ˜ ×œ×™×§×•×™ ×©××© ×—×œ×§×™</h3>
                <div style="flex-grow: 1; display:flex; flex-direction:column; justify-content:center;">
                    <p><strong>××ª×™?</strong> × ×œ×•×•×” ×œ×œ×™×§×•×™ ××œ×/×˜×‘×¢×ª×™ ××• ×›×©×”×™×¨×— ×œ× ××¡×¤×™×§ ×§×¨×•×‘ ×œ×¦×•××ª.</p>
                    <p><strong>×ª×“×™×¨×•×ª:</strong> ××¡×¤×¨ ×¤×¢××™× ×‘×©× ×”.</p>
                </div>
                <div class="img-placeholder img-square" onclick="openLightbox(this.querySelector('img').src)">
                    <img src="https://placehold.co/300x300/000000/FFFFFF?text=Partial" alt="Partial">
                </div>
            </div>

            <div class="text-box text-x-compact" style="justify-content: flex-start; padding: 15px;">
                <h3 style="margin-bottom:5px;">ğŸ”† ×œ×™×§×•×™ ×©××© ×˜×‘×¢×ª×™</h3>
                <div style="flex-grow: 1; display:flex; flex-direction:column; justify-content:center;">
                    <p><strong>××ª×™?</strong> ×”×™×¨×— ×¨×—×•×§ ××“×™ ××›×“×•×¨ ×”××¨×¥ (××¤×•×’×™××”) ×•×§×˜×Ÿ ××›×“×™ ×œ×”×¡×ª×™×¨ ××ª ×”×©××©.</p>
                    <p><strong>×ª×“×™×¨×•×ª:</strong> ×‘×¢×¨×š ×¤×¢× ×‘-18 ×—×•×“×©×™×.</p>
                </div>
                <div class="img-placeholder img-square" onclick="openLightbox(this.querySelector('img').src)">
                    <img src="https://placehold.co/300x300/000000/FFFFFF?text=Annular" alt="Annular">
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 6: Step 3 (Lunar Eclipse) -->
    <div class="slide" id="slide6">
        <div class="content-split">
            <div class="text-box">
                <h2>ğŸŒ• ××ª×™ ×§×•×¨×” ×œ×™×§×•×™ ×™×¨×—?</h2>
                <p>×œ×™×§×•×™ ×™×¨×— ×§×•×¨×” ×¨×§ ×‘×–××Ÿ <strong>×™×¨×— ××œ×</strong>, ×›×©×”×™×¨×— × ×›× ×¡ ×œ×¦×œ ×©×œ ×›×“×•×¨ ×”××¨×¥:</p>
                <ul style="font-size: 24px; margin: 20px 0;">
                    <li>×™×¨×— ××œ× + ×”×™×¨×— ×‘×¦×•××ª â‡’ <strong>×œ×™×§×•×™ ×™×¨×—</strong></li>
                    <li>×× ×¢×•×‘×¨ ×¨×§ ×‘×—×œ×§ ××”×¦×œ â‡’ <strong>×—×œ×§×™</strong></li>
                    <li>×× × ×›× ×¡ ×¨×§ ×‘×¦×œ×œ×•× â‡’ <strong>×œ×™×§×•×™ ×¢××¨×™ (penumbral)</strong></li>
                </ul>
            </div>
            <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)" style="height: 400px;">
                 <img src="http://googleusercontent.com/image_collection/image_retrieval/11342619969106837241" alt="×œ×™×§×•×™ ×™×¨×—">
            </div>
        </div>
    </div>

    <!-- SLIDE 7: Step 4 (History & Fear) - COMPACT -->
    <div class="slide" id="slide7">
        <h2>×©×œ×‘ 4: ×”×™×¡×˜×•×¨×™×” ×•××™×ª×•×¡×™×</h2>
        <div class="content-split text-compact">
            <div class="text-box">
                <p>×‘××”×œ×š ×”×”×™×¡×˜×•×¨×™×” ×œ×™×§×•×™ ×—××” ×”×™×” ××™×¨×•×¢ ××¤×—×™×“ ×•××¡×ª×•×¨×™. ×”×§×“××•× ×™× ×¨××• ×‘×• ××•×ª ×¨×¢:</p>
                <ul style="margin-bottom:10px;">
                    <li>×—×©×‘×• ×©×”×¢×•×œ× × ×’××¨, ×‘×›×• ×•×”×ª×—× × ×• ×œ××œ×™×.</li>
                    <li>×”×›×• ×‘×ª×•×¤×™× ×œ×”×‘×¨×™×— ××ª ×”"××¤×œ×¦×ª".</li>
                </ul>
                <p><strong>×××•× ×•×ª ×¢×××™×•×ª:</strong></p>
                <ul>
                    <li><strong>×¡×™×Ÿ:</strong> ×“×¨×§×•×Ÿ ×‘×•×œ×¢ ××ª ×”×©××©.</li>
                    <li><strong>×•×™×™×˜× ××:</strong> ×¦×¤×¨×“×¢ ×©××™××™×ª.</li>
                    <li><strong>×•×™×§×™× ×’×™×:</strong> ×–××‘ ×©××™××™.</li>
                    <li><strong>×”×•×“×•:</strong> ×”×©×“ ×¨×”×• × ×•×§×.</li>
                </ul>
            </div>
            <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)" style="height: 100%;">
                <img src="http://googleusercontent.com/image_collection/image_retrieval/609648672522536519" alt="××™×ª×•×¡ ×”×“×¨×§×•×Ÿ">
            </div>
        </div>
    </div>

    <!-- SLIDE 8: Step 4 (History & Science) - COMPACT -->
    <div class="slide" id="slide8">
        <h2>××¤×—×“ ×œ×”×‘× ×”</h2>
        <div class="content-split reverse text-compact">
            <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)" style="height: 100%;">
                 <img src="https://placehold.co/400x500/000000/FFFFFF?text=Ancient+Astronomers" alt="××¡×˜×¨×•× ×•××™× ×¢×ª×™×§×™×">
            </div>
            <div class="text-box">
                <p>×¨×‘×™× ×—×©×‘×• ×©×”××œ ×›×•×¢×¡, ×”×§×¨×™×‘×• ×§×•×¨×‘× ×•×ª ×•××œ×›×™× ×¤×—×“×• ×× ×¤×™×œ×ª×.</p>
                <h3 class="highlight">××‘×œ ×”××“×¢× ×™× ×”×§×“×•××™× ×”×‘×™× ×•:</h3>
                <ul>
                    <li><strong>×”×‘×‘×œ×™×:</strong> ×—×™×©×‘×• ××—×–×•×¨×™ ×œ×™×§×•×™×™× ×œ×¤× ×™ 2,500 ×©× ×”.</li>
                    <li><strong>×”×™×•×•× ×™× (×ª×œ×¡):</strong> ×”×‘×™× ×• ××ª ×”×’××•××˜×¨×™×”.</li>
                    <li><strong>×¡×™×Ÿ ×”×¢×ª×™×§×”:</strong> ××¡×˜×¨×•× ×•××™× ×—×–×• ×œ×™×§×•×™×™× (×•× ×¢× ×©×• ×× ×˜×¢×•).</li>
                </ul>
                <p>×›×š, ×‘×–××Ÿ ×©×”×¦×™×‘×•×¨ × ×‘×”×œ, ×”××“×¢× ×™× ×”×—×œ×• ×œ×”×‘×™×Ÿ ××ª ×”×× ×’× ×•×Ÿ ×”×××™×ª×™.</p>
            </div>
        </div>
    </div>

    <!-- SLIDE 9: Step 5 (Dates) -->
    <div class="slide" id="slide9">
        <div class="content-full">
            <h2>×©×œ×‘ 5: ×ª××¨×™×›×™× ×—×©×•×‘×™×</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 30px; text-align: right;">
                <div style="background: rgba(255,255,255,0.05); padding: 30px; border-radius: 15px;">
                    <h3 style="color: #60a5fa;">×”×œ×™×§×•×™ ×”×—×œ×§×™ ×”×§×¨×•×‘ ×‘×™×•×ª×¨</h3>
                    <p style="font-size: 30px; font-weight: bold;">×‘×™×•× â€2 ×‘××•×’×•×¡×˜ 2027</p>
                </div>
                <div style="background: rgba(255,255,255,0.05); padding: 30px; border-radius: 15px;">
                    <h3 style="color: #94a3b8;">×”×œ×™×§×•×™ ×”×—×œ×§×™ ×”××—×¨×•×Ÿ ×”×™×”</h3>
                    <p style="font-size: 30px; font-weight: bold;">×‘×™×•× 25 ×‘××•×§×˜×•×‘×¨ 2022</p>
                </div>
            </div>
            <div style="margin-top: 40px; background: rgba(251, 191, 36, 0.1); padding: 30px; border-radius: 15px; width: 80%;">
                <p>×”×œ×™×§×•×™ ×”××œ× ×”××—×¨×•×Ÿ ×©×™×›×œ ×”×™×” ×œ×”×™×¨××•×ª ××™×©×¨××œ × ×¢×¨×š ×‘Ö¾<strong>21 ×‘××•×’×•×¡×˜ 1933</strong>.</p>
                <p class="highlight" style="font-size: 28px;">×”×œ×™×§×•×™ ×”××œ× ×”×‘× ×©×™×™×¨××” ××™×©×¨××œ ×œ× ×¦×¤×•×™ ×œ×¤× ×™ â€2180-2240(!!!!!!!!!!!!!)</p>
            </div>
        </div>
    </div>

    <!-- SLIDE 10: Step 6 (Safety Problem) -->
    <div class="slide" id="slide10">
        <div class="content-full">
            <h2 class="danger">×©×œ×‘ 6: ×”×¡×›× ×”</h2>
            <div style="text-align: right; max-width: 900px;">
                <h3>×”×‘×¢×™×”: ×”××™×©×•×Ÿ × ×¤×ª×— â€” ××‘×œ ×”×§×¨×™× ×” × ×©××¨×ª ×—×–×§×”</h3>
                <p>×”×¢×™×Ÿ ×—×•×©×‘×ª ×©×”××•×¨ × ×—×œ×© â†’ ×”××™×©×•×Ÿ × ×¤×ª×— ×›×“×™ ×œ×”×›× ×™×¡ ×™×•×ª×¨ ××•×¨.</p>
                <p><strong>××‘×œ:</strong> ×’× ×›×©×©××© ××•×¡×ª×¨×ª ×—×œ×§×™×ª ×”×™× ×¢×“×™×™×Ÿ ×¤×•×œ×˜×ª ×§×¨× ×™ UV ×•-IR ×—×–×§×•×ª ×××•×“.</p>
                
                <div style="border: 2px solid #ef4444; padding: 20px; border-radius: 10px; margin: 20px 0; background: rgba(239, 68, 68, 0.1);">
                    <p style="font-weight: bold; font-size: 22px;">×ª×•×¦××”: Solar Retinopathy â€” â€œ×›×•×•×™×™×” ×©×œ ×”×¨×©×ª×™×ªâ€</p>
                    <ul>
                        <li>×ª××™ ×”×¨×©×ª×™×ª × ×™×–×•×§×™× ××”×—×•× ×•××”×§×¨×™× ×” ×‘××•×¤×Ÿ ×§×‘×•×¢.</li>
                        <li><strong>×•×”×›×™ ×‘×¢×™×™×ª×™:</strong> ×–×” ×œ× ×›×•××‘ ×‘××•×ª×• ×¨×’×¢ (××™×Ÿ ×§×•×œ×˜× ×™ ×›××‘ ×‘×¨×©×ª×™×ª).</li>
                    </ul>
                </div>

                <h3>×”×× ×œ×™×§×•×™ ×™×¨×— ××¡×•×›×Ÿ ×œ×¢×™× ×™×™×? ×œ×!</h3>
                <p class="highlight">×œ×™×§×•×™ ×™×¨×— = ×‘×˜×•×— ×œ×—×œ×•×˜×™×Ÿ | ×œ×™×§×•×™ ×—××” = ××¡×•×›×Ÿ ×××•×“!</p>
            </div>
        </div>
    </div>

    <!-- SLIDE 11: Step 6 (Safety Solution) - COMPACT -->
    <div class="slide" id="slide11">
        <div class="content-split text-compact">
            <div class="text-box">
                <h2 class="safe">××– ××” ×‘×˜×•×—?</h2>
                <p><strong>××©×§×¤×™ ×©××© ×¨×’×™×œ×™× ××¡×•×¨×™× ×‘×”×—×œ×˜!</strong> ×”× ×¨×§ ××¤×—×™×ª×™× ×¡× ×•×•×¨ ×•×œ× ×—×•×¡××™× UV/IR, ××” ×©×’×•×¨× ×œ××™×©×•×Ÿ ×œ×”×™×¤×ª×— ×•×œ×§×œ×•×˜ ×¢×•×“ ×§×¨×™× ×”.</p>
                <h3 class="safe">×××¦×¢×™ ×”×’× ×” ××•×ª×¨×™×:</h3>
                <ul>
                    <li>××©×§×¤×™ ×œ×™×§×•×™ ×—××” ×¢× ×ª×§×Ÿ <strong>ISO 12312-2</strong>.</li>
                    <li>×–×›×•×›×™×ª ×¨×ª×›×™× ××¡×¤×¨ 14 ×•××¢×œ×”.</li>
                    <li>×”×§×¨× ×” (Pinhole) ×¢×œ ×“×£/×¨×¦×¤×”.</li>
                    <li>×¦×¤×™×™×” ×œ× ×™×©×™×¨×” ×‘×œ×‘×“.</li>
                </ul>
                <p style="margin-top:15px; font-size:16px;">×–×›×¨×•: ××™×Ÿ ×›×–×” ×“×‘×¨ "××©×§×¤×™ ×©××© ×—×–×§×™× ×‘××™×•×—×“".</p>
            </div>
            <div class="img-placeholder" onclick="openLightbox(this.querySelector('img').src)" style="height: 100%;">
                <img src="https://cdn.thewirecutter.com/wp-content/media/2023/09/solareclipse-2048px-02981.jpg?auto=webp&quality=75&width=1024" alt="××©×§×¤×™ ×œ×™×§×•×™ ×—××”">
            </div>
        </div>
    </div>

    <!-- SLIDE 12: CHOICE SCREEN -->
    <div class="slide" id="slide12">
        <div class="content-full">
            <h1 style="font-size: 50px; margin-bottom: 50px;">××™×š ×ª×¨×¦×• ×œ×”××©×™×š?</h1>
            <div class="choice-card-container">
                <!-- Option 1: Presentation -->
                <div class="choice-card" onclick="goToSlides()">
                    <div class="choice-icon"><i class="fa-solid fa-book-open"></i></div>
                    <div class="choice-title">××¦×’×ª ×‘×œ×‘×“</div>
                    <div class="choice-desc">×”××©×š ×”×¦×’×ª ×”×¢×•×‘×“×•×ª ×›×©×§×¤×™× ×¨×’×™×œ×™×</div>
                </div>
                
                <!-- Option 2: Game -->
                <div class="choice-card" onclick="startGame()">
                    <div class="choice-icon"><i class="fa-solid fa-gamepad"></i></div>
                    <div class="choice-title">××©×—×§ ×”×˜×¨×™×•×•×™×”</div>
                    <div class="choice-desc">×—×™×“×•×Ÿ "××™ ×¨×•×¦×” ×œ×”×™×•×ª ××™×œ×™×•× ×¨" ×¢×œ ×›×œ ×”×¢×•×‘×“×•×ª</div>
                </div>
            </div>
        </div>
    </div>

    <!-- SLIDE 13: Solar Facts Part A - COMPACT GRID -->
    <div class="slide" id="slide13">
        <h2>×©×œ×‘ 7: ×¢×•×‘×“×•×ª ×¢×œ ×œ×™×§×•×™ ×—××” (×—×œ×§ ×')</h2>
        <div class="facts-container">
            <div class="fact-card"><span class="fact-number">1</span><div class="fact-icon"><i class="fa-solid fa-scale-balanced"></i></div><div class="fact-content"><h4>×’×•×“×œ ×–×”×” ×‘××§×¨×”</h4><p>×”×©××© ×’×“×•×œ×” ×¤×™ 400 ××š ×¨×—×•×§×” ×¤×™ 400 - ×¦×™×¨×•×£ ××§×¨×™× ×§×•×¡××™.</p></div></div>
            <div class="fact-card"><span class="fact-number">2</span><div class="fact-icon" style="color:#60a5fa;"><i class="fa-solid fa-compress-arrows-alt"></i></div><div class="fact-content"><h4>×”×¦×œ ×©×œ ×”×™×¨×— ×–×¢×™×¨</h4><p>×¨×¦×•×¢×ª ×”×¦×œ ×”××œ× ×”×™× ×‘×¨×•×—×‘ 100-200 ×§"× ×‘×œ×‘×“.</p></div></div>
            <div class="fact-card"><span class="fact-number">3</span><div class="fact-icon" style="color:#ef4444;"><i class="fa-solid fa-stopwatch"></i></div><div class="fact-content"><h4>×§×¦×¨ ×××•×“</h4><p>×œ×™×§×•×™ ××œ× × ××©×š ×œ×¨×•×‘ 2-3 ×“×§×•×ª (×©×™× 7.5 ×“×§×•×ª).</p></div></div>
            <div class="fact-card"><span class="fact-number">4</span><div class="fact-icon" style="color:#fbbf24;"><i class="fa-solid fa-star"></i></div><div class="fact-content"><h4>×¨×•××™× ×›×•×›×‘×™× ×•×§×•×¨×•× ×”</h4><p>×”×™×•× ×”×•×¤×š ×œ×œ×™×œ×” ×•×¨×•××™× ××ª ×”×™×œ×” ×”×©××© ×”×™×¤×”.</p></div></div>
            <div class="fact-card"><span class="fact-number">5</span><div class="fact-icon" style="color:#22c55e;"><i class="fa-solid fa-dove"></i></div><div class="fact-content"><h4>×‘×¢×œ×™ ×—×™×™× ××ª×‘×œ×‘×œ×™×</h4><p>×¦×™×¤×•×¨×™× ×©×•×ª×§×•×ª ×•×”×•×œ×›×•×ª ×œ×™×©×•×Ÿ, ×—×¨×§×™× ×™×•×¦××™×.</p></div></div>
            <div class="fact-card"><span class="fact-number">6</span><div class="fact-icon" style="color:#3b82f6;"><i class="fa-solid fa-temperature-arrow-down"></i></div><div class="fact-content"><h4>×”×ª×§×¨×¨×•×ª ×•×¨×•×—</h4><p>×™×¨×™×“×” ×©×œ 2-5 ××¢×œ×•×ª ×•×©×™× ×•×™ ×›×™×•×•×Ÿ ×”×¨×•×—.</p></div></div>
            <div class="fact-card"><span class="fact-number">7</span><div class="fact-icon" style="color:#a855f7;"><i class="fa-solid fa-atom"></i></div><div class="fact-content"><h4>×”×•×›×—×ª ××™×™× ×©×˜×™×™×Ÿ (1919)</h4><p>×”×•×›×— ×©×”××•×¨ ××ª×¢×§× ×‘×’×œ×œ ×›×‘×™×“×” ×‘×–××Ÿ ×œ×™×§×•×™.</p></div></div>
        </div>
    </div>

    <!-- SLIDE 14: Solar Facts Part B (RESTORED FULL TEXT) -->
    <div class="slide" id="slide14">
        <h2>×©×œ×‘ 7: ×¢×•×“ ×¢×•×‘×“×•×ª ×¢×œ ×œ×™×§×•×™ ×—××” (×—×œ×§ ×‘')</h2>
        <div class="facts-container">
            <div class="fact-card"><span class="fact-number">8</span><div class="fact-icon" style="color:#fbbf24;"><i class="fa-solid fa-arrows-spin"></i></div><div class="fact-content"><h4>×œ×™×§×•×™×™× ××’×™×¢×™× ×‘××—×–×•×¨×™×</h4><p>×—×œ×§ ××”××—×–×•×¨×™× × ×§×¨××™× ×¡××¨×•×¡ â€” ××—×–×•×¨ ×©×œ ×›Ö¾18 ×©× ×™×, 11 ×™××™× ×•Ö¾8 ×©×¢×•×ª.</p></div></div>
            <div class="fact-card"><span class="fact-number">9</span><div class="fact-icon" style="color:#60a5fa;"><i class="fa-regular fa-calendar-days"></i></div><div class="fact-content"><h4>×™×© ×œ×™×§×•×™ ××œ× ×›×œ 18 ×—×•×“×©×™×</h4><p>××‘×œ × ×“×™×¨ ×××•×“ ×‘××•×ª×• ××§×•× (×¤×¢× ×‘×××•×ª ×©× ×™×).</p></div></div>
            <div class="fact-card"><span class="fact-number">10</span><div class="fact-icon" style="color:#f97316;"><i class="fa-regular fa-circle-dot"></i></div><div class="fact-content"><h4>××œ× ××•×œ ×˜×‘×¢×ª×™</h4><p>×ª×œ×•×™ ×‘××¨×—×§ ×”×™×¨×—: ×¨×—×•×§=×˜×‘×¢×ª×™, ×§×¨×•×‘=××œ×.</p></div></div>
            <div class="fact-card"><span class="fact-number">11</span><div class="fact-icon" style="color:#ef4444;"><i class="fa-solid fa-triangle-exclamation"></i></div><div class="fact-content"><h4>×”×©××© ×ª××™×“ ××¡×•×›× ×ª</h4><p>×”×œ×™×§×•×™ ×œ× ××’×‘×™×¨ ×§×¨×™× ×”, ×¨×§ ×’×•×¨× ×œ×× ×©×™× ×œ×”×‘×™×˜ ×‘×˜×¢×•×ª.</p></div></div>
            <div class="fact-card"><span class="fact-number">12</span><div class="fact-icon" style="color:#eab308;"><i class="fa-solid fa-grip-lines-vertical"></i></div><div class="fact-content"><h4>×—×¨×•×–×™ ×‘×™×™×œ×™</h4><p>× ×™×¦×•×¦×•×ª ××•×¨ ×”××¦×™×¦×™× ×“×¨×š ×”×¢××§×™× ×‘×™×¨×— ×¨×’×¢ ×œ×¤× ×™ ×”×©×™×.</p></div></div>
            <div class="fact-card"><span class="fact-number">13</span><div class="fact-icon" style="color:#0ea5e9;"><i class="fa-regular fa-gem"></i></div><div class="fact-content"><h4>×˜×‘×¢×ª ×™×”×œ×•×</h4><p>×”×¨×’×¢ ×©×‘×• ×›××¢×˜ ×”×›×•×œ ××›×•×¡×” ×—×•×¥ ×× ×§×•×“×” × ×•×¦×¦×ª ××—×ª.</p></div></div>
        </div>
    </div>

    <!-- SLIDE 15: Step 7 (Lunar Facts) -->
    <div class="slide" id="slide15">
        <h2>×¢×•×‘×“×•×ª ×¢×œ ×œ×™×§×•×™ ×™×¨×—</h2>
        <div class="facts-container">
            <div class="fact-card"><span class="fact-number">1</span><div class="fact-icon"><i class="fa-solid fa-moon"></i></div><div class="fact-content"><h4>×¨×§ ×‘×™×¨×— ××œ×</h4><p>×›×©×”×™×¨×— ×¢×•×‘×¨ ×‘×¦×œ ×›×“×•×¨ ×”××¨×¥.</p></div></div>
            <div class="fact-card"><span class="fact-number">2</span><div class="fact-icon" style="color:#22c55e; background:rgba(34,197,94,0.15);"><i class="fa-solid fa-eye"></i></div><div class="fact-content"><h4>×‘×˜×•×— ×œ×¦×¤×™×™×”</h4><p>××¤×©×¨ ×œ×”×¡×ª×›×œ ×‘×¢×™× ×™×™× ×—×©×•×¤×•×ª ×‘×œ×™ ×”×’× ×”.</p></div></div>
            <div class="fact-card"><span class="fact-number">3</span><div class="fact-icon" style="color:#ef4444; background:rgba(239,68,68,0.15);"><i class="fa-solid fa-circle"></i></div><div class="fact-content"><h4>×”×™×¨×— ×”×•×¤×š ×œ××“×•×</h4><p>×‘×’×œ×œ ×©×‘×™×¨×ª ××•×¨ ×‘××˜××•×¡×¤×™×¨×” (×›××• ×©×§×™×¢×”).</p></div></div>
            <div class="fact-card"><span class="fact-number">4</span><div class="fact-icon" style="color:#94a3b8;"><i class="fa-solid fa-eye-slash"></i></div><div class="fact-content"><h4>×œ×¤×¢××™× ×›×”×” ×××•×“</h4><p>×›×©× ×›× ×¡ ×¢××•×§ ×œ×¦×œ, ×›××¢×˜ × ×¢×œ×.</p></div></div>
            <div class="fact-card"><span class="fact-number">5</span><div class="fact-icon"><i class="fa-solid fa-hourglass-half"></i></div><div class="fact-content"><h4>× ××©×š ×”××•×Ÿ ×–××Ÿ</h4><p>×¢×“ 100 ×“×§×•×ª ×œ×œ×™×§×•×™ ×”××œ×.</p></div></div>
            <div class="fact-card"><span class="fact-number">6</span><div class="fact-icon"><i class="fa-solid fa-earth-americas"></i></div><div class="fact-content"><h4>× ×¨××” ××›×œ ×”×œ×™×œ×”</h4><p>×›×œ ××™ ×©×‘×¦×“ ×”×—×©×•×š ×¨×•××” ××•×ª×•.</p></div></div>
            <div class="fact-card"><span class="fact-number">7</span><div class="fact-icon"><i class="fa-solid fa-house-chimney"></i></div><div class="fact-content"><h4>×œ× ×¦×¨×™×š ××™×§×•× ××™×•×—×“</h4><p>×‘× ×™×’×•×“ ×œ×œ×™×§×•×™ ×—××” ×”×“×•×¨×© "×¤×¡ ×¦×œ" ×¦×¨.</p></div></div>
            <div class="fact-card"><span class="fact-number">8</span><div class="fact-icon"><i class="fa-solid fa-flask"></i></div><div class="fact-content"><h4>××™×“×¢ ×¢×œ ×”××˜××•×¡×¤×™×¨×”</h4><p>×”×’×•×•×Ÿ ××©×ª× ×” ×œ×¤×™ ×›××•×ª ×”××‘×§ ×•×”×¢×©×Ÿ ×‘××•×•×™×¨.</p></div></div>
            <div class="fact-card"><span class="fact-number">9</span><div class="fact-icon"><i class="fa-regular fa-calendar-check"></i></div><div class="fact-content"><h4>×–×•×’×•×ª ×©××™××™×™×</h4><p>××’×™×¢ ×œ×¨×•×‘ ×©×‘×•×¢×™×™× ×œ×¤× ×™/××—×¨×™ ×œ×™×§×•×™ ×—××”.</p></div></div>
            <div class="fact-card"><span class="fact-number">10</span><div class="fact-icon"><i class="fa-solid fa-bullseye"></i></div><div class="fact-content"><h4>×œ× ×ª××™×“ ××¨×›×–×™</h4><p>×™×© ×’× ×œ×™×§×•×™ ×—×œ×§×™ ×•×œ×™×§×•×™ ×¢××¨×™ (×¤× ×•××‘×¨×œ×™).</p></div></div>
        </div>
    </div>

    <!-- LIGHTBOX -->
    <div id="lightbox" class="lightbox">
        <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
        <img class="lightbox-content" id="lightbox-img">
    </div>

    <!-- GAME OVERLAY (Hidden by default) -->
    <div id="gameOverlay" class="game-overlay">
        <div class="game-header">
            <h2 style="font-size: 24px;">×—×™×“×•×Ÿ ×”×œ×™×§×•×™ ×”×’×“×•×œ</h2>
            <div style="font-size: 20px; color: #fbbf24;">
                <i class="fa-solid fa-coins"></i> <span id="scoreDisplay">0 â‚ª</span>
            </div>
        </div>

        <!-- Money Ladder -->
        <div class="game-money-ladder" id="moneyLadder">
            <!-- JS will populate this -->
        </div>

        <!-- Question Area -->
        <div style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center;">
            <div class="question-box" id="questionText">
                ×”×©××œ×” ×ª×•×¤×™×¢ ×›××Ÿ...
            </div>

            <div class="answers-grid" id="answersGrid">
                <!-- JS will populate buttons -->
            </div>
            
            <div id="feedbackText" style="height: 30px; text-align: center; color: #ef4444; font-weight: bold; margin-top: 10px; font-size: 20px;"></div>
        </div>
        
        <button onclick="exitGame()" style="position: absolute; top: 20px; left: 20px; padding: 5px 15px; font-size: 14px; background: rgba(255,255,255,0.1);">×™×¦×™××”</button>
    </div>

    <!-- Controls -->
    <div class="nav-buttons" id="navControls">
        <button onclick="prevSlide()" id="prevBtn" disabled>×”×§×•×“×</button>
        <button onclick="nextSlide()" id="nextBtn">×”×‘×</button>
    </div>
    
    <div class="slide-counter" id="counter">1 / 15</div>

</div>

<script>
    // --- AUDIO SETUP (Embedded Base64 for Reliability) ---
    // Generating simple beeps programmatically to ensure they work without external files
    const context = new (window.AudioContext || window.webkitAudioContext)();
    
    function playTone(freq, type, duration) {
        if (context.state === 'suspended') context.resume();
        const osc = context.createOscillator();
        const gain = context.createGain();
        osc.type = type;
        osc.frequency.setValueAtTime(freq, context.currentTime);
        gain.gain.setValueAtTime(0.1, context.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.00001, context.currentTime + duration);
        osc.connect(gain);
        gain.connect(context.destination);
        osc.start();
        osc.stop(context.currentTime + duration);
    }

    function playWinSound() {
        if (context.state === 'suspended') context.resume();
        // Simple Arpeggio
        [440, 554, 659, 880].forEach((freq, i) => {
            setTimeout(() => playTone(freq, 'sine', 0.5), i * 150);
        });
    }

    function playCorrectSound() {
        playTone(880, 'sine', 0.3); // High Ping
    }

    function playWrongSound() {
        playTone(150, 'sawtooth', 0.4); // Low Buzz
    }


    // --- SLIDESHOW LOGIC ---
    let currentSlide = 1;
    const totalSlides = 15;

    function showSlide(n) {
        document.querySelectorAll('.slide').forEach(slide => {
            slide.classList.remove('active');
        });
        
        document.getElementById('slide' + n).classList.add('active');
        document.getElementById('counter').innerText = n + ' / ' + totalSlides;
        
        // Navigation handling
        const nav = document.getElementById('navControls');
        // Slide 12 is choice screen, but we allow navigation now
        nav.style.display = 'flex';

        document.getElementById('prevBtn').disabled = (n === 1);
        document.getElementById('nextBtn').innerText = (n === totalSlides) ? '×¡×™×•×' : '×”×‘×';
        
        if (n === totalSlides) {
             document.getElementById('nextBtn').onclick = function() { alert('×”××¦×’×ª ×”×¡×ª×™×™××” ×‘×”×¦×œ×—×”!'); };
        } else {
             document.getElementById('nextBtn').onclick = nextSlide;
        }
    }

    function nextSlide() {
        if (currentSlide < totalSlides) {
            currentSlide++;
            showSlide(currentSlide);
        }
    }

    function prevSlide() {
        if (currentSlide > 1) {
            currentSlide--;
            showSlide(currentSlide);
        }
    }
    
    // Function for "Presentation Only" choice
    function goToSlides() {
        currentSlide = 13; // Jump to facts
        showSlide(currentSlide);
    }

    // --- LIGHTBOX LOGIC ---
    function openLightbox(src) {
        if(!src) return;
        const lightbox = document.getElementById('lightbox');
        const img = document.getElementById('lightbox-img');
        img.src = src;
        lightbox.style.display = 'flex';
    }

    function closeLightbox() {
        document.getElementById('lightbox').style.display = 'none';
    }

    // Close lightbox when clicking outside image
    document.getElementById('lightbox').addEventListener('click', function(e) {
        if (e.target === this) {
            closeLightbox();
        }
    });

    // --- BACKGROUND ECLIPSE LOGIC ---
    document.addEventListener('mousemove', (e) => {
        const width = window.innerWidth;
        const x = e.clientX;
        // Normalize x from -1 to 1 based on center (offset)
        // Range: Moon starts left of sun, ends right of sun.
        // Let's allow movement of +/- 200px from center.
        const offset = (x - width / 2) / (width / 2) * 250; 
        
        const moon = document.getElementById('bgMoon');
        const sunContainer = document.querySelector('.bg-sun'); // To check visual overlap logic if needed
        const corona = document.querySelector('.bg-corona');
        
        // Apply transform to moon relative to center (-50%, -50% is center)
        // We add translateX
        moon.style.transform = `translate(calc(-50% + ${offset}px), -50%)`;
        
        // Calculate Eclipse State
        // If offset is close to 0, it's total eclipse.
        const overlap = Math.abs(offset);
        
        if (overlap < 5) {
            // Total Eclipse
            corona.style.opacity = 1;
            document.body.style.backgroundColor = "#000000"; // Darken sky
        } else if (overlap < 60) {
            // Partial
            corona.style.opacity = (60 - overlap) / 200; // Faint glow
            document.body.style.backgroundColor = "#050510"; // Normal sky
        } else {
            corona.style.opacity = 0;
            document.body.style.backgroundColor = "#050510";
        }
    });

    // --- GAME LOGIC ---
    
    // ×××’×¨ ××œ× ×©×œ ×©××œ×•×ª ×”××›×¡×” ××ª ×›×œ ×”×¢×•×‘×“×•×ª ×‘××¦×’×ª
    const allQuestionsPool = [
        // Solar Facts 1-7
        { q: "××“×•×¢ ×”×©××© ×•×”×™×¨×— × ×¨××™× ×›××¢×˜ ×‘××•×ª×• ×’×•×“×œ ×‘×©××™×™×?", a: ["×›×™ ×”× ×‘×××ª ×‘××•×ª×• ×’×•×“×œ", "×”×©××© ×’×“×•×œ×” ×¤×™ 400 ××š ×¨×—×•×§×” ×¤×™ 400", "×”×™×¨×— ×§×¨×•×‘ ×××•×“ ×•×œ×›×Ÿ × ×¨××” ×¢× ×§", "×–×• ××©×œ×™×” ×©× ×•×¦×¨×ª ×‘×’×œ×œ ×”××˜××•×¡×¤×™×¨×”"], correct: 1 },
        { q: "××” ×¨×•×—×‘ ×¨×¦×•×¢×ª ×”×¦×œ ×”××œ× (Umbra) ×¢×œ ×›×“×•×¨ ×”××¨×¥?", a: ["100-200 ×§×™×œ×•××˜×¨×™×", "5,000 ×§×™×œ×•××˜×¨×™×", "×—×¦×™ ×›×“×•×¨ ×”××¨×¥", "10 ×§×™×œ×•××˜×¨×™× ×‘×œ×‘×“"], correct: 0 },
        { q: "×›××” ×–××Ÿ × ××©×š ×‘×“×¨×š ×›×œ×œ ×œ×™×§×•×™ ×—××” ××œ×?", a: ["×©×¢×ª×™×™×", "2-3 ×“×§×•×ª", "×—×¦×™ ×™×××”", "10 ×©× ×™×•×ª ×‘×œ×‘×“"], correct: 1 },
        { q: "××” × ×™×ª×Ÿ ×œ×¨××•×ª ×‘×©××™×™× ×‘×–××Ÿ ×œ×™×§×•×™ ×—××” ××œ×?", a: ["×¨×§ ×¢× × ×™×", "×›×•×›×‘×™× ×•××ª ×©×›×‘×ª ×”×§×•×¨×•× ×”", "××ª ×”×¦×“ ×”××¤×œ ×©×œ ×”×™×¨×—", "×§×©×ª ×‘×¢× ×Ÿ ×”×¤×•×›×”"], correct: 1 },
        { q: "×›×™×¦×“ ××’×™×‘×™× ×‘×¢×œ×™ ×—×™×™× ×‘×–××Ÿ ×œ×™×§×•×™ ××œ×?", a: ["××ª×—×™×œ×™× ×œ×¨×§×•×“", "××ª× ×”×’×™× ×›××™×œ×• ×™×¨×“ ×”×œ×™×œ×” ×•×”×•×œ×›×™× ×œ×™×©×•×Ÿ", "×œ× ×©××™× ×œ×‘ ×‘×›×œ×œ", "×‘×•×¨×—×™× ×œ××§×•×¨×•×ª ××™×"], correct: 1 },
        { q: "××” ×§×•×¨×” ×œ×˜××¤×¨×˜×•×¨×” ×‘×–××Ÿ ×œ×™×§×•×™ ××œ×?", a: ["×”×™× ×¢×•×œ×” ×‘-10 ××¢×œ×•×ª", "×”×™× ×™×•×¨×“×ª ×‘-2 ×¢×“ 5 ××¢×œ×•×ª", "×”×™× ×œ× ××©×ª× ×”", "×”×™× ×”×•×¤×›×ª ×œ×§×™×¦×•× ×™×ª ×××•×“"], correct: 1 },
        { q: "××™ ×”×•×›×™×— ××ª ×ª×•×¨×ª ×”×™×—×¡×•×ª ×‘×¢×–×¨×ª ×œ×™×§×•×™ ×—××” ×‘-1919?", a: ["××™×™×–×§ × ×™×•×˜×•×Ÿ", "××œ×‘×¨×˜ ××™×™× ×©×˜×™×™×Ÿ", "×’×œ×™×œ××• ×’×œ×™×œ×™×™", "× ×™×œ ××¨××¡×˜×¨×•× ×’"], correct: 1 },
        
        // Solar Facts 8-13
        { q: "××”×• ××—×–×•×¨ ×¡××¨×•×¡?", a: ["×©× ×©×œ ××¡×˜×¨×•× ×•× ×™×•×•× ×™", "××—×–×•×¨ ×œ×™×§×•×™×™× ×©×œ 18 ×©× ×™× ×•-11 ×™××™×", "×¡×•×’ ×©×œ ×˜×œ×¡×§×•×¤ ×¢×ª×™×§", "×™×—×™×“×ª ××™×“×” ×œ××¨×—×§ ××›×“×•×¨ ×”××¨×¥"], correct: 1 },
        { q: "×›×œ ×›××” ×–××Ÿ ××ª×¨×—×© ×œ×™×§×•×™ ××œ× ×‘××§×•× ×›×œ×©×”×• ×‘×¢×•×œ×?", a: ["×¤×¢× ×‘-18 ×—×•×“×©×™×", "×¤×¢× ×‘-100 ×©× ×”", "×›×œ ×©×‘×•×¢", "×¨×§ ×¤×¢× ××—×ª ×‘×¢×©×•×¨"], correct: 0 },
        { q: "××” ×§×•×‘×¢ ×× ×”×œ×™×§×•×™ ×™×”×™×” ××œ× ××• ×˜×‘×¢×ª×™?", a: ["××–×’ ×”××•×•×™×¨", "×”××¨×—×§ ×©×œ ×”×™×¨×— ××›×“×•×¨ ×”××¨×¥", "×”×©×¢×” ×‘×™×•×", "×›××•×ª ×–×™×”×•× ×”××•×•×™×¨"], correct: 1 },
        { q: "×”×× ×œ×™×§×•×™ ×—××” ××’×‘×™×¨ ××ª ×§×¨×™× ×ª ×”×©××©?", a: ["×›×Ÿ, ×–×” ×××•×“ ××¡×•×›×Ÿ", "×œ×, ×”×§×¨×™× ×” ×¨×’×™×œ×” ××‘×œ ×”××™×©×•×Ÿ ×¤×ª×•×— ×•××˜×¢×”", "×¨×§ ×× ×”×œ×™×§×•×™ ×—×œ×§×™", "×ª×œ×•×™ ×‘×¢×•× ×ª ×”×©× ×”"], correct: 1 },
        { q: "××”× '×—×¨×•×–×™ ×‘×™×™×œ×™'?", a: ["×©×¨×©×¨×ª ×¢×ª×™×§×” ×©× ××¦××” ×‘×—×œ×œ", "× ×™×¦×•×¦×•×ª ××•×¨ ×”××¦×™×¦×™× ×“×¨×š ×¢××§×™× ×‘×™×¨×—", "×˜×™×¤×•×ª ×’×©× ×–×•×”×¨×•×ª ×‘×–××Ÿ ×œ×™×§×•×™", "×©× ×©×œ ×§×‘×•×¦×ª ×›×•×›×‘×™×"], correct: 1 },
        { q: "××ª×™ ×¨×•××™× ××ª '×˜×‘×¢×ª ×”×™×”×œ×•×'?", a: ["×××© ×œ×¤× ×™ ××• ××—×¨×™ ×”×©×™× ×©×œ ×œ×™×§×•×™ ××œ×", "×‘×–××Ÿ ×œ×™×§×•×™ ×™×¨×—", "×¨×§ ×‘×‘×•×§×¨", "×›×©×›×•×›×‘ × ×•×’×” ×¢×•×‘×¨ ××•×œ ×”×©××©"], correct: 0 },

        // Lunar Facts 1-10
        { q: "×‘××™×–×” ×©×œ×‘ ×©×œ ×”×™×¨×— ××ª×¨×—×© ×œ×™×§×•×™ ×™×¨×—?", a: ["×™×¨×— ×—×“×© (××•×œ×“)", "×™×¨×— ××œ× ×‘×œ×‘×“", "×—×¦×™ ×™×¨×—", "×‘×›×œ ×©×œ×‘ ×‘×—×•×“×©"], correct: 1 },
        { q: "×”×× ×‘×˜×•×— ×œ×”×‘×™×˜ ×‘×œ×™×§×•×™ ×™×¨×— ×‘×¢×™× ×™×™× ×—×©×•×¤×•×ª?", a: ["×œ×, ×–×” ××¡×•×›×Ÿ ×›××• ×©××©", "×›×Ÿ, ×–×” ×‘×˜×•×— ×œ×—×œ×•×˜×™×Ÿ", "×¨×§ ×¢× ××©×§×¤×™ ×©××©", "×¨×§ ×“×¨×š ××¦×œ××” ××™×•×—×“×ª"], correct: 1 },
        { q: "××“×•×¢ ×”×™×¨×— × ×¨××” ××“×•× ×‘×–××Ÿ ×œ×™×§×•×™ ×™×¨×—?", a: ["×›×™ ×”×•× ×œ×•×”×˜", "×‘×’×œ×œ ×©×‘×™×¨×ª ××•×¨ ×‘××˜××•×¡×¤×™×¨×ª ×›×“×•×¨ ×”××¨×¥", "×›×™ ×”×××“×™× ××©×ª×§×£ ×¢×œ×™×•", "×–×• ××©×œ×™×” ××•×¤×˜×™×ª ×©×œ ×”×¢×™×Ÿ"], correct: 1 },
        { q: "××” ×§×•×¨×” ×›×©×”×™×¨×— × ×›× ×¡ ×¢××•×§ ×œ×ª×•×š ×”×¦×œ?", a: ["×”×•× × ×¢×œ× ×œ×’××¨×™", "×”×•× ×™×›×•×œ ×œ×”×™×¨××•×ª ×›×”×” ×××•×“", "×”×•× ×”×•×¤×š ×œ×›×—×•×œ", "×”×•× ××ª×—×™×œ ×œ×”×¡×ª×•×‘×‘ ××”×¨ ×™×•×ª×¨"], correct: 1 },
        { q: "×›××” ×–××Ÿ ×™×›×•×œ ×œ×”×™××©×š ×œ×™×§×•×™ ×™×¨×— ××œ×?", a: ["×›××” ×“×§×•×ª", "×¢×“ 100 ×“×§×•×ª (×™×•×ª×¨ ××©×¢×” ×•×—×¦×™)", "×›×œ ×”×œ×™×œ×”", "×—×¦×™ ×“×§×” ×‘×œ×‘×“"], correct: 1 },
        { q: "××™ ×™×›×•×œ ×œ×¨××•×ª ×œ×™×§×•×™ ×™×¨×—?", a: ["×¨×§ ××™ ×©× ××¦× ×‘×§×• ×”×¦×œ", "×›×œ ××™ ×©× ××¦× ×‘×¦×“ ×”×œ×™×œ×” ×©×œ ×›×“×•×¨ ×”××¨×¥", "×¨×§ ××“×¢× ×™×", "×¨×§ ××™ ×©× ××¦× ×‘×§×• ×”××©×•×•×”"], correct: 1 },
        { q: "×”×× ×¦×¨×™×š ×œ×”×™×•×ª ×‘××™×§×•× ×¡×¤×¦×™×¤×™ ×œ×¨××•×ª ×œ×™×§×•×™ ×™×¨×—?", a: ["×›×Ÿ, ×¨×¦×•×¢×” ×¦×¨×”", "×œ×, ××¡×¤×™×§ ×©×™×”×™×” ×œ×™×œ×” ××¦×œ×š", "×¨×§ ×‘×—×¦×™ ×”×›×“×•×¨ ×”×“×¨×•××™", "×¨×§ ×¢×œ ×”×¨×™× ×’×‘×•×”×™×"], correct: 1 },
        { q: "××” × ×™×ª×Ÿ ×œ×œ××•×“ ××¦×‘×¢ ×”×™×¨×— ×‘×–××Ÿ ×”×œ×™×§×•×™?", a: ["××” ×”×©×¢×”", "××™×“×¢ ×¢×œ ×”××˜××•×¡×¤×™×¨×” (××‘×§, ×¢×©×Ÿ)", "××ª ×’×™×œ ×”×™×¨×—", "××ª ×”××¨×—×§ ×”××“×•×™×§ ××”×©××©"], correct: 1 },
        { q: "××™×š ×œ×™×§×•×™ ×™×¨×— ×§×©×•×¨ ×œ×œ×™×§×•×™ ×—××”?", a: ["×”× ×œ× ×§×©×•×¨×™×", "×”× ××’×™×¢×™× ×œ×¨×•×‘ ×‘×–×•×’×•×ª ×‘×”×¤×¨×© ×©×œ ×©×‘×•×¢×™×™×", "×”× ×§×•×¨×™× ×‘××•×ª×• ×™×•×", "×œ×™×§×•×™ ×™×¨×— ×’×•×¨× ×œ×œ×™×§×•×™ ×—××”"], correct: 1 },
        { q: "××”×• ×œ×™×§×•×™ ×™×¨×— '×¤× ×•××‘×¨×œ×™' (×¢××¨×™)?", a: ["×œ×™×§×•×™ ××œ× ×•×›×”×”", "×›×©×”×™×¨×— ×¢×•×‘×¨ ×¨×§ ×‘×¦×œ ×”×—×œ×§×™ ×•××ª×›×”×” ××¢×˜", "×›×©×”×™×¨×— ××¡×ª×™×¨ ××ª ×”×©××©", "×œ×™×§×•×™ ×©×§×•×¨×” ×‘×™×•×"], correct: 1 }
    ];

    const moneySteps = [
        "100 â‚ª", "500 â‚ª", "1,000 â‚ª", "2,000 â‚ª", "5,000 â‚ª", 
        "10,000 â‚ª", "32,000 â‚ª", "64,000 â‚ª", "125,000 â‚ª", "500,000 â‚ª", "1,000,000 â‚ª"
    ];

    let currentQIndex = 0;
    let gameActive = false;
    let currentGameQuestions = [];

    // ×¤×•× ×§×¦×™×” ×œ×¢×¨×‘×•×‘ ××¢×¨×š (Fisher-Yates Shuffle)
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function startGame() {
        document.getElementById('gameOverlay').style.display = 'flex';
        currentQIndex = 0;
        gameActive = true;
        
        // ×‘×—×™×¨×ª ×©××œ×•×ª ×¨× ×“×•××œ×™×•×ª ×œ××©×—×§ ×”× ×•×›×—×™
        let shuffledPool = shuffleArray([...allQuestionsPool]); 
        currentGameQuestions = shuffledPool.slice(0, 11); 

        // ×”×¤×¢×œ×ª ××•×“×™×• ×”×§×©×¨ ×‘×¤×¢× ×”×¨××©×•× ×” ×›×“×™ ×œ××¤×©×¨ × ×™×’×•×Ÿ ×‘×“×¤×“×¤× ×™× ×©×—×•×¡××™× autoplay
        if (context.state === 'suspended') {
            context.resume();
        }

        renderMoneyLadder();
        loadQuestion();
    }

    function renderMoneyLadder() {
        const ladder = document.getElementById('moneyLadder');
        ladder.innerHTML = '';
        moneySteps.forEach((amount, index) => {
            const step = document.createElement('div');
            step.className = 'money-step';
            if (index === currentQIndex) step.classList.add('active');
            if (index < currentQIndex) step.classList.add('completed');
            step.innerText = amount;
            ladder.appendChild(step);
        });
    }

    function loadQuestion() {
        const q = currentGameQuestions[currentQIndex];
        document.getElementById('questionText').innerText = q.q;
        document.getElementById('feedbackText').innerText = '';
        
        const grid = document.getElementById('answersGrid');
        grid.innerHTML = '';
        
        const letters = ["×", "×‘", "×’", "×“"];
        
        // ×™×¦×™×¨×ª ××¢×¨×š ×ª×©×•×‘×•×ª ××©×•×›×œ×œ (×˜×§×¡×˜ + ×”×× × ×›×•×Ÿ)
        let answers = q.a.map((text, index) => {
            return { text: text, isCorrect: index === q.correct };
        });
        
        // ×¢×¨×‘×•×‘ ×”×ª×©×•×‘×•×ª
        answers = shuffleArray(answers);
        
        // ×™×¦×™×¨×ª ×”×›×¤×ª×•×¨×™×
        answers.forEach((ans, idx) => {
            const btn = document.createElement('div');
            btn.className = 'answer-btn';
            btn.innerHTML = `<span class="answer-letter">${letters[idx]}.</span> ${ans.text}`;
            
            // ×‘×“×™×§×” ×”×× ×–×• ×”×ª×©×•×‘×” ×”× ×›×•× ×”
            btn.onclick = () => checkAnswer(ans.isCorrect, btn);
            grid.appendChild(btn);
        });
        
        renderMoneyLadder();
        const currentMoney = currentQIndex > 0 ? moneySteps[currentQIndex-1] : "0 â‚ª";
        document.getElementById('scoreDisplay').innerText = currentMoney;
    }

    function checkAnswer(isCorrect, btnElement) {
        if (!gameActive) return;

        if (isCorrect) {
            // Correct
            btnElement.classList.add('correct');
            playCorrectSound();
            
            setTimeout(() => {
                currentQIndex++;
                if (currentQIndex >= currentGameQuestions.length) {
                    winGame();
                } else {
                    loadQuestion();
                }
            }, 1200); 
        } else {
            // Wrong
            btnElement.classList.add('wrong');
            playWrongSound();
            document.getElementById('feedbackText').innerText = '×˜×¢×•×ª... × ×¡×” ×©×•×‘!';
            setTimeout(() => {
                btnElement.classList.remove('wrong');
            }, 600);
        }
    }

    function winGame() {
        gameActive = false;
        playWinSound();
        
        document.getElementById('moneyLadder').style.display = 'none';
        document.getElementById('answersGrid').innerHTML = '';
        document.getElementById('scoreDisplay').innerText = "1,000,000 â‚ª";
        
        const box = document.getElementById('questionText');
        box.style.flexDirection = "column";
        box.innerHTML = `
            <i class="fa-solid fa-trophy" style="font-size: 80px; color: #fbbf24; margin-bottom:20px;"></i>
            <h2 style="border:none;">×›×œ ×”×›×‘×•×“ ×’××•× ×™×!</h2>
            <p style="font-size: 24px;">×”×•×›×—×ª× ×©××ª× ×œ× ×¨×§ ××—×•× × ×™×, ××ª× ×××•×¨×•×ª ×”×’×“×•×œ×™×!</p>
            <p style="font-size: 20px; color: #fbbf24; margin-top: 15px;">(×”××™×œ×™×•×Ÿ ×©×§×œ×™× ×”×•×¢×‘×¨×• ×œ×—×©×‘×•×Ÿ ×©×œ×›×... ×‘×‘×™×˜×§×•×™×Ÿ ×“××™×•× ×™ ×©× ×¢ ×‘××”×™×¨×•×ª ×”××•×¨)</p>
        `;
        box.style.borderColor = "#fbbf24";
        box.style.boxShadow = "0 0 50px #fbbf24";
        
        const finishBtn = document.createElement('button');
        finishBtn.innerText = "×—×–×¨×” ×œ××¦×’×ª";
        finishBtn.onclick = exitGame;
        finishBtn.style.marginTop = "20px";
        finishBtn.style.padding = "10px 30px";
        finishBtn.style.borderRadius = "30px";
        finishBtn.style.border = "none";
        finishBtn.style.background = "linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%)";
        finishBtn.style.color = "white";
        finishBtn.style.fontSize = "18px";
        finishBtn.style.fontWeight = "bold";
        finishBtn.style.cursor = "pointer";
        
        document.getElementById('answersGrid').appendChild(finishBtn);
    }

    function exitGame() {
        document.getElementById('gameOverlay').style.display = 'none';
        // ×—×–×¨×” ×œ×©×§×£ ×‘×—×™×¨×” ××• ×”××©×š ×œ×¢×•×‘×“×•×ª
        currentSlide = 13;
        showSlide(currentSlide);
    }

</script>

</body>
</html>
